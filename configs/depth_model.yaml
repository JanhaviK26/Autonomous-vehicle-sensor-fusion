# Depth Prediction Model Configuration
model:
  name: "unet_depth"
  architecture:
    encoder: "resnet34"
    decoder_channels: [256, 128, 64, 32]
    input_channels: 4  # RGB + Depth
    output_channels: 1  # Depth
  
  # Loss function
  loss:
    type: "berhu"  # or "l1", "l2", "smooth_l1"
    weight: 1.0
  
  # Regularization
  dropout: 0.1
  weight_decay: 1e-4

# Training configuration
training:
  batch_size: 16
  epochs: 100
  learning_rate: 1e-4
  scheduler: "cosine"
  
  # Early stopping
  patience: 15
  min_delta: 0.001
  
  # Mixed precision
  use_amp: true
  
  # Checkpointing
  save_best: true
  save_last: true
  checkpoint_dir: "models/depth_prediction"

# Data configuration
data:
  train_path: "data/processed/train"
  val_path: "data/processed/val"
  test_path: "data/processed/test"
  
  # Data loading
  num_workers: 4
  pin_memory: true
  
  # Preprocessing settings (needed for DataFusion)
  depth_max: 80.0
  image_size: [256, 256]
  camera_id: 2
  
  # Augmentation
  augmentation:
    horizontal_flip: 0.5
    rotation_range: 10
    brightness_range: 0.3
    contrast_range: 0.3

# Preprocessing configuration
preprocessing:
  normalize_depth: true
  normalize_rgb: true

# Evaluation metrics
evaluation:
  metrics:
    - "rmse"
    - "mae"
    - "delta1"
    - "delta2"
    - "delta3"
  
  # Visualization
  save_predictions: true
  num_samples: 50
